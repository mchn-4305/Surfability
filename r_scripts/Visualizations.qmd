---
title: "Data Visualization"
format: html
editor: visual
---

## Libraries

```{r}
library(tidyverse)
library(ggplot2)
library(Rtsne)
library(umap)
```

## Reading in Clean Normalized Data and Visualizing

```{r}
df <- read_csv("../data/normalized_data_clean.csv")

# Separate features and label
features <- df %>% select(-label_surfable, -timestamp_utc, -station_id, -tide_station)
label <- df$label_surfable

# PCA
pca <- prcomp(features, scale. = TRUE)
pca_df <- data.frame(PC1 = pca$x[,1], PC2 = pca$x[,2], label = factor(label))

# Plot
ggplot(pca_df, aes(x = PC1, y = PC2, color = label)) +
  geom_point(alpha = 0.7) +
  labs(title = "PCA Projection of Surf Dataset",
       color = "Label") +
  theme_bw()
```

```{r}
tsne <- Rtsne(as.matrix(features), dims = 2, perplexity = 30, verbose = TRUE)

tsne_df <- data.frame(
  Dim1 = tsne$Y[,1],
  Dim2 = tsne$Y[,2],
  label = label
)

ggplot(tsne_df, aes(x = Dim1, y = Dim2, color = label)) +
  geom_point(alpha = 0.7) +
  labs(title = "t-SNE Projection of Surf Dataset",
       color = "Label") +
  theme_bw()
```

```{r}
umap_res <- umap(features)

umap_df <- data.frame(
  U1 = umap_res$layout[,1],
  U2 = umap_res$layout[,2],
  label = label
)

ggplot(umap_df, aes(x = U1, y = U2, color = label)) +
  geom_point(alpha = 0.7) +
  labs(title = "UMAP Projection of Surf Dataset",
       color = "Label") +
  theme_bw()
```
